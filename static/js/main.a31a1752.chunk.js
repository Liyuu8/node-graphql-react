(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{80:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(6),c=n(2),i=n.n(c),a=n(69),s=n.n(a),j=(n(79),n(80),n(50)),o=n(92),d=n(100),l=n(101),b=n(102),u=n(90),h=n(91),m=function(){return Object(r.jsx)(u.a,{color:"primary",className:"mb-4",children:Object(r.jsx)(h.a,{href:"/",children:"Movie List"})})},O=n(22),x=n(51),f=n(31),p=n(27),g=n.n(p);function v(){var e=Object(f.a)(["\n  mutation($id: ID!) {\n    deleteMovie(id: $id) {\n      id\n    }\n  }\n"]);return v=function(){return e},e}function y(){var e=Object(f.a)(["\n  mutation($name: String!, $age: Int!) {\n    addDirector(name: $name, age: $age) {\n      name\n      age\n    }\n  }\n"]);return y=function(){return e},e}function I(){var e=Object(f.a)(["\n  mutation($name: String!, $genre: String!, $directorId: ID!) {\n    addMovie(name: $name, genre: $genre, directorId: $directorId) {\n      name\n      genre\n    }\n  }\n"]);return I=function(){return e},e}function N(){var e=Object(f.a)(["\n  {\n    directors {\n      id\n      name\n    }\n  }\n"]);return N=function(){return e},e}function $(){var e=Object(f.a)(["\n  {\n    movies {\n      id\n      name\n      genre\n      director {\n        name\n      }\n    }\n  }\n"]);return $=function(){return e},e}var S=g()($()),Q=g()(N()),M=g()(I()),w=g()(y()),q=g()(v()),A=n(93),C=n(94),D=n(95),F=n(96),L=n(97),k=n(98),P=function(){var e=Object(o.useQuery)(Q).data,t=Object(x.a)(),n=t.register,c=t.handleSubmit,i=Object(x.a)(),a=i.register,s=i.handleSubmit,j=Object(o.useMutation)(M,{refetchQueries:[{query:S}],awaitRefetchQueries:!0}),d=Object(O.a)(j,1)[0],l=Object(o.useMutation)(w,{refetchQueries:[{query:Q}],awaitRefetchQueries:!0}),b=Object(O.a)(l,1)[0];return Object(r.jsxs)("div",{children:[Object(r.jsxs)(A.a,{children:[Object(r.jsx)(C.a,{children:"\u6620\u753b\u76e3\u7763"}),Object(r.jsx)(D.a,{children:Object(r.jsxs)(F.a,{onSubmit:s((function(e,t){var n=e.directorName,r=e.directorAge;b({variables:{name:n,age:parseInt(r)}}),t.target.reset()})),children:[Object(r.jsx)(L.a,{children:Object(r.jsx)("input",{type:"text",name:"directorName",className:"form-control",placeholder:"\u76e3\u7763\u540d",ref:a})}),Object(r.jsx)(L.a,{children:Object(r.jsx)("input",{type:"number",name:"directorAge",className:"form-control",placeholder:"\u5e74\u9f62",ref:a})}),Object(r.jsx)(k.a,{color:"primary",type:"submit",children:"\u8ffd\u52a0"})]})})]}),Object(r.jsxs)(A.a,{className:"mt-4",children:[Object(r.jsx)(C.a,{children:"\u6620\u753b\u4f5c\u54c1"}),Object(r.jsx)(D.a,{children:Object(r.jsxs)(F.a,{onSubmit:c((function(e,t){var n=e.movieName,r=e.movieGenre,c=e.directorId;d({variables:{name:n,genre:r,directorId:c}}),t.target.reset()})),children:[Object(r.jsx)(L.a,{children:Object(r.jsx)("input",{type:"text",name:"movieName",className:"form-control",placeholder:"\u30bf\u30a4\u30c8\u30eb",ref:n})}),Object(r.jsx)(L.a,{children:Object(r.jsx)("input",{type:"text",name:"movieGenre",className:"form-control",placeholder:"\u30b8\u30e3\u30f3\u30eb",ref:n})}),Object(r.jsx)(L.a,{children:Object(r.jsx)("select",{className:"form-control",type:"select",name:"directorId",ref:n,children:e&&e.directors.map((function(e){var t=e.id,n=e.name;return Object(r.jsx)("option",{value:t,children:n},t)}))})}),Object(r.jsx)(k.a,{color:"primary",type:"submit",children:"\u8ffd\u52a0"})]})})]})]})},R=n(99),B=function(){var e=Object(o.useQuery)(S),t=e.loading,n=e.error,c=e.data,i=Object(o.useMutation)(q,{refetchQueries:[{query:S}],awaitRefetchQueries:!0}),a=Object(O.a)(i,1)[0];return t?Object(r.jsx)("p",{children:"Loading..."}):n?Object(r.jsx)("p",{children:"Error!"}):Object(r.jsx)(A.a,{children:Object(r.jsx)(D.a,{children:Object(r.jsxs)(R.a,{hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"\u30bf\u30a4\u30c8\u30eb"}),Object(r.jsx)("th",{children:"\u30b8\u30e3\u30f3\u30eb"}),Object(r.jsx)("th",{colSpan:"2",children:"\u76e3\u7763"})]})}),Object(r.jsx)("tbody",{children:c.movies.map((function(e){var t=e.id,n=e.name,c=e.genre,i=e.director;return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:n}),Object(r.jsx)("td",{children:c}),Object(r.jsx)("td",{children:i.name}),Object(r.jsx)("td",{children:Object(r.jsx)(k.a,{color:"primary",onClick:function(){return function(e){return a({variables:{id:e}})}(t)},children:"\u524a\u9664"})})]},t)}))})]})})})},E=new j.a({uri:"https://node-graphql-react.firebaseapp.com/graphql"}),G=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(m,{}),Object(r.jsx)(o.ApolloProvider,{client:E,children:Object(r.jsx)(d.a,{children:Object(r.jsxs)(l.a,{children:[Object(r.jsx)(b.a,{xs:12,sm:4,children:Object(r.jsx)(P,{})}),Object(r.jsx)(b.a,{xs:12,sm:8,children:Object(r.jsx)(B,{})})]})})})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,103)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(G,{})}),document.getElementById("root")),J()}},[[89,1,2]]]);
//# sourceMappingURL=main.a31a1752.chunk.js.map